<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{metadata.title}}</title>
    <style>
        body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 12px; line-height: 1.4; color: #333; }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { display: flex; justify-content: space-between; margin-bottom: 30px; border-bottom: 2px solid #333; padding-bottom: 10px; }
        .title { font-size: 24px; font-weight: bold; }
        .meta { text-align: right; }
        
        .parties { display: flex; justify-content: space-between; margin-bottom: 30px; gap: 20px; }
        .party-block { flex: 1; border: 1px solid #ddd; padding: 10px; border-radius: 4px; }
        .party-title { font-weight: bold; margin-bottom: 5px; background: #f5f5f5; padding: 3px 5px; }

        .shipment-info { margin-bottom: 20px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .info-item label { display: block; font-weight: bold; font-size: 10px; color: #666; }
        .info-item span { font-weight: 500; }

        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        th { background: #333; color: white; text-align: left; padding: 8px; font-size: 11px; }
        td { border-bottom: 1px solid #ddd; padding: 8px; vertical-align: top; }
        .text-right { text-align: right; }

        .totals { margin-left: auto; width: 300px; }
        .total-row { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #eee; }
        .total-row.final { border-top: 2px solid #333; border-bottom: none; font-weight: bold; font-size: 14px; margin-top: 5px; padding-top: 10px; }

        .footer { margin-top: 50px; border-top: 1px solid #ddd; padding-top: 10px; font-size: 10px; text-align: center; color: #888; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title">{{metadata.title}}</div>
            <div class="meta">
                <div>Document #: {{metadata.documentNumber}}</div>
                <div>Date: {{metadata.dateGenerated}}</div>
                <div>Order #: {{shipment.erpOrderId}}</div>
            </div>
        </div>

        <div class="shipment-info">
            <div class="info-item"><label>Incoterm</label><span>{{shipment.incoterm}}</span></div>
            <div class="info-item"><label>Origin</label><span>{{shipment.origin}}</span></div>
            <div class="info-item"><label>Destination</label><span>{{shipment.destination}}</span></div>
            <div class="info-item"><label>Currency</label><span>{{shipment.currency}}</span></div>
            <div class="info-item"><label>Shipment ID</label><span>{{shipment.id}}</span></div>
        </div>

        <div class="parties">
            <div class="party-block">
                <div class="party-title">SHIPPER / EXPORTER</div>
                <div>{{parties.shipper.name}}</div>
                <div>{{parties.shipper.addressLine1}}</div>
                <div>{{parties.shipper.city}}, {{parties.shipper.stateOrProvince}} {{parties.shipper.postalCode}}</div>
                <div>{{parties.shipper.countryCode}}</div>
            </div>
            <div class="party-block">
                <div class="party-title">CONSIGNEE / SHIP TO</div>
                <div>{{parties.consignee.name}}</div>
                <div>{{parties.consignee.addressLine1}}</div>
                <div>{{parties.consignee.city}}, {{parties.consignee.stateOrProvince}} {{parties.consignee.postalCode}}</div>
                <div>{{parties.consignee.countryCode}}</div>
            </div>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Description</th>
                    <th class="text-right">Qty</th>
                    <th class="text-right">Unit Val</th>
                    <th class="text-right">Total Val</th>
                    <th class="text-right">Weight (kg)</th>
                    <th>HTS / COO</th>
                </tr>
            </thead>
            <tbody>
                {{#each lines}}
                <tr>
                    <td>{{description}}</td>
                    <td class="text-right">{{quantity}} {{uom}}</td>
                    <td class="text-right">{{unitValue}}</td>
                    <td class="text-right">{{extendedValue}}</td>
                    <td class="text-right">{{weight}}</td>
                    <td>
                        <div>HTS: {{hts}}</div>
                        <div>COO: {{coo}}</div>
                    </td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <div class="totals">
            <div class="total-row">
                <span>Total Packages:</span>
                <span>{{totals.totalPackages}}</span>
            </div>
             <div class="total-row">
                <span>Total Weight:</span>
                <span>{{totals.totalWeight}} KG</span>
            </div>
            <div class="total-row final">
                <span>Total Customs Value:</span>
                <span>{{shipment.currency}} {{totals.subTotal}}</span>
            </div>
        </div>

        <div class="footer">
            Generated by Shipping Doc Gen | Certify that the particulars given in this document are true and correct.
        </div>
    </div>
</body>
</html>
