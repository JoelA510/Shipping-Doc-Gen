
> test
> npm run test --workspaces apps/api/tests/auth.test.js


> @formwaypoint/api@0.1.0 test
> jest apps/api/tests/auth.test.js

FAIL tests/auth.test.js
  Auth Service
    login
      â”œÃ¹ should return token for valid credentials (212 ms)
      Î“ÃªÃœ should throw error for invalid password (138 ms)
      Î“ÃªÃœ should throw error for non-existent user (1 ms)
    register
      Î“ÃªÃœ should throw error for short password (2 ms)
      Î“ÃªÃœ should throw error for password without letters (1 ms)
      Î“ÃªÃœ should throw error for password without numbers (1 ms)
      Î“ÃªÃœ should register user with valid strong password (61 ms)

  Î“Ã¹Ã… Auth Service Î“Ã‡â•‘ login Î“Ã‡â•‘ should return token for valid credentials

    JsonWebTokenError: invalid signature

      41 |             });
      42 |
    > 43 |             const decoded = jwt.verify(result.token, 'test-secret');
         |                                 ^
      44 |             expect(decoded.id).toBe('1');
      45 |         });
      46 |

      at node_modules/jsonwebtoken/verify.js:171:19
      at getSecret (node_modules/jsonwebtoken/verify.js:97:14)
      at Object.<anonymous>.module.exports [as verify] (node_modules/jsonwebtoken/verify.js:101:10)
      at Object.verify (tests/auth.test.js:43:33)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 6 passed, 7 total
Snapshots:   0 total
Time:        1.411 s
Ran all test suites matching /apps\\api\\tests\\auth.test.js/i.
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path C:\Users\joel.abraham\Shipping Doc Gen\Shipping-Doc-Gen\apps\api
npm error workspace @formwaypoint/api@0.1.0
npm error location C:\Users\joel.abraham\Shipping Doc Gen\Shipping-Doc-Gen\apps\api
npm error command failed
npm error command C:\Windows\system32\cmd.exe /d /s /c jest apps/api/tests/auth.test.js


> web@0.1.0 test
> vitest apps/api/tests/auth.test.js


[1m[44m DEV [49m[22m [34mv4.0.10 [39m[90mC:/Users/joel.abraham/Shipping Doc Gen/Shipping-Doc-Gen/apps/web[39m

[31mNo test files found. You can change the file name pattern by pressing "p"
[39m
filter: apps/api/tests/auth.test.js
include: **/*.{test,spec}.?(c|m)[jt]s?(x)
exclude:  **/node_modules/**, **/dist/**, **/e2e/**, **/tests-e2e/**

(node:18880) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///C:/Users/joel.abraham/Shipping%20Doc%20Gen/Shipping-Doc-Gen/apps/web/postcss.config.js?t=1765401880713 is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to C:\Users\joel.abraham\Shipping Doc Gen\Shipping-Doc-Gen\apps\web\package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
