
> test
> npm run test --workspaces apps/api/tests/tenancy.test.js


> @formwaypoint/api@0.1.0 test
> jest apps/api/tests/tenancy.test.js

2025-12-10T22:54:29.334Z [32minfo[39m: Cache MISS for rates  {"service":"shipping-doc-gen-api","cacheKey":"rates:shipment-123:b99954275d170aa7e0068d9d7a33b212"}
2025-12-10T22:54:29.336Z [31merror[39m: Failed to get rates from account  {"service":"shipping-doc-gen-api","accountId":"acct-1","error":"prisma.carrierAccount.findUnique is not a function"}
PASS tests/tenancy.test.js
  Multi-tenant Isolation
    Parties (Address Book)
      Î“ÃªÃœ GET /parties should filter by createdByUserId (28 ms)
    Items
      Î“ÃªÃœ GET /items should filter by createdByUserId (6 ms)
    Carriers (Rate Shopping)
      Î“ÃªÃœ POST /shipments/:id/rates should only use User A carrier accounts (8 ms)

Test Suites: 1 passed, 1 total
Tests:       3 passed, 3 total
Snapshots:   0 total
Time:        3.165 s, estimated 5 s
Ran all test suites matching /apps\\api\\tests\\tenancy.test.js/i.

> web@0.1.0 test
> vitest apps/api/tests/tenancy.test.js


[1m[44m DEV [49m[22m [34mv4.0.10 [39m[90mC:/Users/joel.abraham/Shipping Doc Gen/Shipping-Doc-Gen/apps/web[39m

[31mNo test files found. You can change the file name pattern by pressing "p"
[39m
filter: apps/api/tests/tenancy.test.js
include: **/*.{test,spec}.?(c|m)[jt]s?(x)
exclude:  **/node_modules/**, **/dist/**, **/e2e/**, **/tests-e2e/**

(node:34024) [MODULE_TYPELESS_PACKAGE_JSON] Warning: Module type of file:///C:/Users/joel.abraham/Shipping%20Doc%20Gen/Shipping-Doc-Gen/apps/web/postcss.config.js?t=1765407270071 is not specified and it doesn't parse as CommonJS.
Reparsing as ES module because module syntax was detected. This incurs a performance overhead.
To eliminate this warning, add "type": "module" to C:\Users\joel.abraham\Shipping Doc Gen\Shipping-Doc-Gen\apps\web\package.json.
(Use `node --trace-warnings ...` to show where the warning was created)
